# Environment Configuration Template
# Copy this file to .env and update with your specific values

# =================================
# Environment & Stage Configuration
# =================================
NODE_ENV=development
STAGE=dev
LOG_LEVEL=info

# =================================
# AWS Configuration
# =================================
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=123456789012
AWS_PROFILE=community-content-hub
CDK_DEFAULT_ACCOUNT=123456789012
CDK_DEFAULT_REGION=us-east-1

# Stack Configuration
STACK_NAME=CommunityContentHub-dev
STACK_PREFIX=CCH

# =================================
# Database Configuration
# =================================
# Local Development (Docker)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=contenthub
DB_USER=contentuser
DB_PASSWORD=your-secure-password
DB_SSL=false

# AWS RDS (Production - will be set by CDK deployment)
# RDS_ENDPOINT=your-rds-endpoint.region.rds.amazonaws.com
# RDS_PORT=5432
# RDS_DATABASE=contenthub
# RDS_USERNAME=contentuser
# RDS_SECRET_ARN=arn:aws:secretsmanager:region:account:secret:name

# Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# =================================
# Cache Configuration (Redis)
# =================================
# Local Development
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# AWS ElastiCache (Production - will be set by CDK)
# ELASTICACHE_ENDPOINT=your-redis-cluster.region.cache.amazonaws.com
# ELASTICACHE_PORT=6379

# Cache Settings
CACHE_TTL=3600
CACHE_PREFIX=cch:

# =================================
# API Configuration
# =================================
# Server Configuration
PORT=3000
HOST=0.0.0.0
API_BASE_PATH=/api/v1

# CORS Configuration
CORS_ORIGIN=http://localhost:3001,http://localhost:3000
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# API Gateway (Production - will be set by CDK)
# API_GATEWAY_URL=https://api123456789.execute-api.us-east-1.amazonaws.com/dev

# =================================
# Authentication & Security
# =================================
# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Password Configuration
BCRYPT_SALT_ROUNDS=12
PASSWORD_MIN_LENGTH=8

# AWS Cognito (will be set by CDK deployment)
# COGNITO_USER_POOL_ID=us-east-1_ABC123DEF
# COGNITO_CLIENT_ID=1234567890abcdef1234567890abcdef
# COGNITO_REGION=us-east-1

# Session Configuration
SESSION_SECRET=your-session-secret-key-min-32-chars
SESSION_MAX_AGE=604800000

# =================================
# File Storage Configuration
# =================================
# Local Development
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/markdown

# AWS S3 (will be created by CDK)
CONTENT_BUCKET_NAME=community-content-hub-content-dev
ASSETS_BUCKET_NAME=community-content-hub-assets-dev
UPLOADS_BUCKET_NAME=community-content-hub-uploads-dev

# CloudFront (will be created by CDK)
# CLOUDFRONT_DOMAIN=https://d1234567890123.cloudfront.net
# CLOUDFRONT_DISTRIBUTION_ID=E1234567890123

# =================================
# Email Configuration
# =================================
# AWS SES
SES_REGION=us-east-1
SES_FROM_EMAIL=noreply@your-domain.com
SES_FROM_NAME=Community Content Hub

# Email Templates
EMAIL_TEMPLATE_DIR=./src/templates/email

# Development Email (for testing)
DEV_EMAIL_RECIPIENT=developer@your-domain.com

# =================================
# External API Keys
# =================================
# GitHub Integration (optional)
# GITHUB_CLIENT_ID=your-github-oauth-app-client-id
# GITHUB_CLIENT_SECRET=your-github-oauth-app-client-secret
# GITHUB_WEBHOOK_SECRET=your-github-webhook-secret

# OpenAI Integration (optional)
# OPENAI_API_KEY=sk-your-openai-api-key

# Stripe Integration (optional, for premium features)
# STRIPE_PUBLIC_KEY=pk_test_your-stripe-public-key
# STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
# STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# =================================
# Monitoring & Analytics
# =================================
# AWS CloudWatch
CLOUDWATCH_LOG_GROUP=/aws/lambda/community-content-hub-dev
CLOUDWATCH_METRICS_NAMESPACE=CommunityContentHub/dev

# AWS X-Ray
XRAY_TRACING_ENABLED=true
XRAY_SAMPLING_RATE=0.1

# Application Insights
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
# DATADOG_API_KEY=your-datadog-api-key

# =================================
# Search Configuration
# =================================
# Elasticsearch/OpenSearch (optional)
# ELASTICSEARCH_ENDPOINT=https://your-elasticsearch-endpoint.region.es.amazonaws.com
# ELASTICSEARCH_INDEX_PREFIX=community-content-hub

# =================================
# Background Jobs
# =================================
# Redis-based job queue
QUEUE_REDIS_URL=redis://localhost:6379/1
QUEUE_DEFAULT_JOB_OPTIONS={"removeOnComplete":10,"removeOnFail":50}

# SQS-based job queue (production)
# SQS_QUEUE_URL=https://sqs.region.amazonaws.com/account-id/queue-name

# =================================
# Testing Configuration
# =================================
# Test Database
TEST_DB_HOST=localhost
TEST_DB_PORT=5433
TEST_DB_NAME=contenthub_test
TEST_DB_USER=testuser
TEST_DB_PASSWORD=testpassword

# Test Redis
TEST_REDIS_HOST=localhost
TEST_REDIS_PORT=6380

# Test API
TEST_API_PORT=3001
TEST_TIMEOUT=30000

# =================================
# Development Tools
# =================================
# Hot Reloading
WATCH_FILES=true
WATCH_EXTENSIONS=.ts,.js,.json

# Debug Configuration
DEBUG=app:*
DEBUG_COLORS=true

# Webpack Dev Server (if using)
WEBPACK_DEV_SERVER_PORT=3001
WEBPACK_DEV_SERVER_HOST=localhost

# =================================
# Feature Flags
# =================================
# Enable/disable features for development
FEATURE_USER_REGISTRATION=true
FEATURE_CONTENT_SUBMISSION=true
FEATURE_COMMUNITY_VOTING=true
FEATURE_PREMIUM_FEATURES=false
FEATURE_ADMIN_PANEL=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_PUSH_NOTIFICATIONS=false

# =================================
# Secrets Manager (Production)
# =================================
# AWS Secrets Manager secret names (will be created by CDK)
# SECRETS_MANAGER_SECRET_NAME=community-content-hub/dev/secrets
# DATABASE_SECRET_NAME=community-content-hub/dev/database
# API_KEYS_SECRET_NAME=community-content-hub/dev/api-keys

# =================================
# Custom Domain (Production)
# =================================
# Domain Configuration
# DOMAIN_NAME=api.your-domain.com
# CERTIFICATE_ARN=arn:aws:acm:region:account:certificate/certificate-id
# HOSTED_ZONE_ID=Z1234567890123

# =================================
# Backup & Disaster Recovery
# =================================
# Backup Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=community-content-hub-backups-dev

# =================================
# Performance & Scaling
# =================================
# Lambda Configuration
LAMBDA_TIMEOUT=30
LAMBDA_MEMORY=512
LAMBDA_RESERVED_CONCURRENCY=10

# Auto Scaling
AUTO_SCALING_MIN_CAPACITY=1
AUTO_SCALING_MAX_CAPACITY=10
AUTO_SCALING_TARGET_CPU=70

# =================================
# Compliance & Security
# =================================
# Data Retention
DATA_RETENTION_DAYS=365
LOG_RETENTION_DAYS=30

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90